<!DOCTYPE html>
<!-- Generated by pkgdown + https://github.com/insightsengineering/r-pkgdown-multiversion -->
<html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>HermesData and RangedHermesData — HermesData-class • hermes</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="HermesData and RangedHermesData — HermesData-class">
<meta name="description" content="
The HermesData class is an extension of SummarizedExperiment::SummarizedExperiment
with additional validation criteria.">
<meta property="og:description" content="
The HermesData class is an extension of SummarizedExperiment::SummarizedExperiment
with additional validation criteria.">
<meta property="og:image" content="https://insightsengineering.github.io/hermes/logo.png">
<!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-125641273-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-125641273-1');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">hermes</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.7.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/hermes.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      <div><li class="nav-item dropdown">
    <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-versions">Versions</a>
    <div class="dropdown-menu" aria-labelledby="dropdown-versions">
    <a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/hermes/main">main</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/hermes/latest-tag">latest-tag</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/hermes/v1.7.2">v1.7.2</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/hermes/v1.7.1">v1.7.1</a>
</div>
</li></div>
</ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/insightsengineering/hermes"><span class="fa fa-github"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>
<code>HermesData</code> and <code>RangedHermesData</code>
</h1>
      <small class="dont-index">Source: <a href="https://github.com/insightsengineering/hermes/blob/v1.7.2/R/HermesData-class.R" class="external-link"><code>R/HermesData-class.R</code></a></small>
      <div class="d-none name"><code>HermesData-class.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="figures/lifecycle-experimental.svg" alt="[Experimental]"></a></p>
<p>The <code>HermesData</code> class is an extension of <code><a href="https://rdrr.io/pkg/SummarizedExperiment/man/RangedSummarizedExperiment-class.html" class="external-link">SummarizedExperiment::SummarizedExperiment</a></code>
with additional validation criteria.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a>
</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">HermesData</span><span class="op">(</span><span class="va">object</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">HermesDataFromMatrix</span><span class="op">(</span><span class="va">counts</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a>
</h2>


<dl>
<dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a>
</dt>
<dd><p>(<code>SummarizedExperiment</code>)<br> input to create the <code>HermesData</code> object from.
If this is a <code>RangedSummarizedExperiment</code>, then the result will be
<code>RangedHermesData</code>.</p></dd>


<dt id="arg-counts">counts<a class="anchor" aria-label="anchor" href="#arg-counts"></a>
</dt>
<dd><p>(<code>matrix</code>)<br> counts to create the <code>HermesData</code> object from.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a>
</dt>
<dd><p>additional arguments, e.g. <code>rowData</code>, <code>colData</code>, etc. passed to
<code><a href="https://rdrr.io/pkg/SummarizedExperiment/man/RangedSummarizedExperiment-class.html" class="external-link">SummarizedExperiment::SummarizedExperiment()</a></code> internally. Note that if <code>rowRanges</code>
is passed instead of <code>rowData</code>, then the result will be a <code>RangedHermesData</code> object.</p></dd>

</dl>
</div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a>
</h2>
    <p>An object of class <code>AnyHermesData</code> (<code>HermesData</code> or <code>RangedHermesData</code>).</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a>
</h2>
    <p>The additional criteria are:</p>
<ul>
<li><p>The first assay must be <code>counts</code> containing non-missing, integer, non-negative values.
Note that <code><a href="rename.html">rename()</a></code> can be used to edit the assay name to <code>counts</code> if needed.</p></li>
<li>
<p>The following columns must be in <code>rowData</code>:</p>
<ul>
<li><p><code>symbol</code> (also often called <code>HGNC</code> or similar, example: <code>"INMT"</code>)</p></li>
<li><p><code>desc</code> (the gene name, example: <code>"indolethylamine N-methyltransferase"</code>)</p></li>
<li><p><code>chromosome</code> (the chromosome as string, example: <code>"7"</code>)</p></li>
<li><p><code>size</code> (the size of the gene in base pairs, e.g <code>5468</code>)</p></li>
<li><p><code>low_expression_flag</code> (can be populated with <code><a href="quality_flags.html">add_quality_flags()</a></code>)</p></li>
</ul>
</li>
<li>
<p>The following columns must be in <code>colData</code>:</p>
<ul>
<li><p><code>low_depth_flag</code> (can be populated with <code><a href="quality_flags.html">add_quality_flags()</a></code>)</p></li>
<li><p><code>tech_failure_flag</code> (can be populated with <code><a href="quality_flags.html">add_quality_flags()</a></code>)</p></li>
</ul>
</li>
<li><p>The object must have unique row and column names. The row names are the gene names
and the column names are the sample names.</p></li>
</ul>
<p>Analogously, <code>RangedHermesData</code> is an extension of
<code><a href="https://rdrr.io/pkg/SummarizedExperiment/man/RangedSummarizedExperiment-class.html" class="external-link">SummarizedExperiment::RangedSummarizedExperiment</a></code> and has the same
additional validation requirements. Methods can be defined for both classes at the
same time with the <code>AnyHermesData</code> signature.</p>
<p>A <code><a href="https://rdrr.io/pkg/Biobase/man/class.ExpressionSet.html" class="external-link">Biobase::ExpressionSet</a></code> object can be imported by using the
<code><a href="https://rdrr.io/pkg/SummarizedExperiment/man/makeSummarizedExperimentFromExpressionSet.html" class="external-link">SummarizedExperiment::makeSummarizedExperimentFromExpressionSet()</a></code> function to
first convert it to a <code><a href="https://rdrr.io/pkg/SummarizedExperiment/man/RangedSummarizedExperiment-class.html" class="external-link">SummarizedExperiment::SummarizedExperiment</a></code> object before
converting it again into a <code>HermesData</code> object.</p>
    </div>
    <div class="section level2">
    <h2 id="slots">Slots<a class="anchor" aria-label="anchor" href="#slots"></a>
</h2>


<dl>
<dt><code>prefix</code></dt>
<dd><p>common prefix of the gene IDs (row names).</p></dd>


</dl>
</div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a>
</h2>

<ul>
<li><p>Note that we use <code><a href="https://rdrr.io/pkg/S4Vectors/man/S4Vectors-internals.html" class="external-link">S4Vectors::setValidity2()</a></code> to define the validity
method, which allows us to turn off the validity checks in internal
functions where intermediate objects may not be valid within the scope of
the function.</p></li>
<li><p>It can be helpful to convert character and logical variables to factors in <code><a href="https://rdrr.io/pkg/SummarizedExperiment/man/SummarizedExperiment-class.html" class="external-link">colData()</a></code>
(before or after the <code>HermesData</code> creation). We provide the utility function
<code><a href="df_cols_to_factor.html">df_cols_to_factor()</a></code> to simplify this task, but leave it to the user to allow
for full control of the details.</p></li>
</ul>
</div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a>
</h2>
    <div class="dont-index"><p><code><a href="rename.html">rename()</a></code> for renaming columns of the input data.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a>
</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Convert an `ExpressionSet` to a `RangedSummarizedExperiment`.</span></span></span>
<span class="r-in"><span><span class="va">ranged_summarized_experiment</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/SummarizedExperiment/man/makeSummarizedExperimentFromExpressionSet.html" class="external-link">makeSummarizedExperimentFromExpressionSet</a></span><span class="op">(</span><span class="va">expression_set</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Then convert to `RangedHermesData`.</span></span></span>
<span class="r-in"><span><span class="fu">HermesData</span><span class="op">(</span><span class="va">ranged_summarized_experiment</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> class: RangedHermesData</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> assays(1): counts</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> genes(5085): GeneID:11185 GeneID:10677 ... GeneID:9087 GeneID:9426</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> additional gene information(12): HGNC HGNCGeneName ... chromosome_name</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   LowExpressionFlag</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> samples(20): 06520011B0023R 06520067C0018R ... 06520015C0016R</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   06520019C0023R</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> additional sample information(74): Filename SampleID ... LowDepthFlag</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   TechnicalFailureFlag</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create objects starting from a `SummarizedExperiment`.</span></span></span>
<span class="r-in"><span><span class="va">hermes_data</span> <span class="op">&lt;-</span> <span class="fu">HermesData</span><span class="op">(</span><span class="va">summarized_experiment</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">hermes_data</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> class: HermesData</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> assays(1): counts</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> genes(5085): GeneID:11185 GeneID:10677 ... GeneID:9087 GeneID:9426</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> additional gene information(12): HGNC HGNCGeneName ... chromosome_name</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   LowExpressionFlag</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> samples(20): 06520011B0023R 06520067C0018R ... 06520015C0016R</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   06520019C0023R</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> additional sample information(74): Filename SampleID ... LowDepthFlag</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   TechnicalFailureFlag</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create objects from a matrix. Note that additional arguments are not required but possible.</span></span></span>
<span class="r-in"><span><span class="va">counts_matrix</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/SummarizedExperiment/man/SummarizedExperiment-class.html" class="external-link">assay</a></span><span class="op">(</span><span class="va">summarized_experiment</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">counts_hermes_data</span> <span class="op">&lt;-</span> <span class="fu">HermesDataFromMatrix</span><span class="op">(</span><span class="va">counts_matrix</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Daniel Sabanés Bové, Namrata Bhatia, Stefanie Bienert, Benoit Falquet, Haocheng Li, Jeff Luong, Lyndsee Midori Zhang, Alex Richardson, Simona Rossomanno, Tim Treis, Mark Yan, Naomi Chang, Chendi Liao, Carolyn Zhang, Joseph N. Paulson, F. Hoffmann-La Roche AG.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer>
</div>





  </body>
</html>
